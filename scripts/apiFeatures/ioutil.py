from __future__ import print_function
import json
import os
import pickle


def exportToJson(absolutePath, content):
    try:
        # if(isinstance(content, set)):
        #    content = list(content)
        # if(isinstance(content, collections.defaultdict)):
        #    content = dict(content)
        f = open(absolutePath, "wb")
        pickle.dump(content, f)
        # json.dump(content, f, indent=4)

    except Exception as e:
        print(e)
        print("Json data writing Failed.")
        if "f" in dir():
            f.close()
        # sys.exit("Json data writing Failed.")
    else:
        f.close()


def exportToTxt(absolutePath, content):
    try:
        if(isinstance(content, set)):
            content = list(content)
        # if(isinstance(content, collections.defaultdict)):
        #    content = dict(content)
        f = open(absolutePath, "w")
        for c in content:
            f.write("%s\n" % c)
        # pickle.dump(content, f)
        # json.dump(content, f, indent=4)

    except Exception as e:
        print(e)
        if "f" in dir():
            f.close()
        #sys.exit("Json data writing Failed.")
    else:
        f.close()


def dirAbsPath(dir):
    if os.path.isabs(dir):
        return dir
    else:
        d = os.path.abspath(dir)
        if not os.path.isdir(d):
            os.makedirs(d)
        return d
